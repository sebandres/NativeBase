{"version":3,"sources":["../../../src/basic/ToastContainer.js"],"names":["ToastContainer","props","state","modalVisible","fadeAnim","Value","position","opacity","width","elevation","paddingHorizontal","OS","top","getTop","undefined","bottom","config","setState","text","buttonText","type","supportedOrientations","style","buttonTextStyle","buttonStyle","textStyle","duration","setTimeout","timing","toValue","start","getToastStyle","closeToast","toastInstance","_root","showToast","propTypes","object","StyledToastContainer"],"mappings":"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","file":"ToastContainer.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types'; // ES6\r\nimport { View, Modal, Platform, ViewPropTypes, Animated } from \"react-native\";\r\nimport { connectStyle } from \"native-base-shoutem-theme\";\r\nimport { Text } from \"./Text\";\r\nimport { Button } from \"./Button\";\r\nimport { ViewNB } from \"./View\";\r\nimport { Toast } from \"./Toast\";\r\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\r\n\r\nclass ToastContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n      fadeAnim: new Animated.Value(0)\r\n    };\r\n  }\r\n  static toastInstance;\r\n  static show({ ...config }) {\r\n    this.toastInstance._root.showToast({ config });\r\n  }\r\n  getToastStyle() {\r\n    return {\r\n      position: \"absolute\",\r\n      opacity: this.state.fadeAnim,\r\n      width: \"100%\",\r\n      elevation: 9,\r\n      paddingHorizontal: Platform.OS === \"ios\" ? 20 : 0,\r\n      top: this.state.position === \"top\" ? this.getTop() : undefined,\r\n      bottom: this.state.position === \"bottom\" ? this.getTop() : undefined\r\n    };\r\n  }\r\n  getTop() {\r\n    if (Platform.OS === \"ios\") {\r\n      return 30;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n  showToast({ config }) {\r\n    this.setState({\r\n      modalVisible: true,\r\n      text: config.text,\r\n      buttonText: config.buttonText,\r\n      type: config.type,\r\n      position: config.position ? config.position : \"bottom\",\r\n      supportedOrientations: config.supportedOrientations,\r\n      style: config.style,\r\n      buttonTextStyle: config.buttonTextStyle,\r\n      buttonStyle: config.buttonStyle,\r\n      textStyle: config.textStyle\r\n    });\r\n    if (config.duration > 0) {\r\n      setTimeout(() => {\r\n        Animated.timing(this.state.fadeAnim, {\r\n          toValue: 0,\r\n          duration: 200\r\n        }).start();\r\n        setTimeout(() => {\r\n          this.setState({\r\n            modalVisible: false\r\n          });\r\n        }, 500);\r\n      }, config.duration);\r\n    }\r\n    Animated.timing(this.state.fadeAnim, {\r\n      toValue: 1,\r\n      duration: 200\r\n    }).start();\r\n  }\r\n  closeToast() {\r\n    Animated.timing(this.state.fadeAnim, {\r\n      toValue: 0,\r\n      duration: 200\r\n    }).start();\r\n    setTimeout(() => {\r\n      this.setState({\r\n        modalVisible: false\r\n      });\r\n    }, 500);\r\n  }\r\n  render() {\r\n    if (this.state.modalVisible) {\r\n      return (\r\n        <Animated.View style={this.getToastStyle()}>\r\n          <Toast\r\n            style={this.state.style}\r\n            danger={this.state.type == \"danger\" ? true : false}\r\n            success={this.state.type == \"success\" ? true : false}\r\n            warning={this.state.type == \"warning\" ? true : false}\r\n          >\r\n            <Text style={this.state.textStyle}>\r\n              {this.state.text}\r\n            </Text>\r\n            {this.state.buttonText &&\r\n              <Button\r\n                style={this.state.buttonStyle}\r\n                onPress={() => this.closeToast()}\r\n              >\r\n                <Text style={this.state.buttonTextStyle}>\r\n                  {this.state.buttonText}\r\n                </Text>\r\n              </Button>}\r\n          </Toast>\r\n        </Animated.View>\r\n      );\r\n    } else return null;\r\n  }\r\n}\r\n\r\nToastContainer.propTypes = {\r\n  ...ViewPropTypes,\r\n  style: PropTypes.object\r\n};\r\n\r\nconst StyledToastContainer = connectStyle(\r\n  \"NativeBase.ToastContainer\",\r\n  {},\r\n  mapPropsToStyleNames\r\n)(ToastContainer);\r\n\r\nexport { StyledToastContainer as ToastContainer };\r\n"]}