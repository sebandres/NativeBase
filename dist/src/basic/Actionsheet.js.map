{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","props","state","modalVisible","items","config","callback","OS","options","filtered","map","item","text","showActionSheetWithOptions","setState","title","message","destructiveButtonIndex","cancelButtonIndex","autoHide","duration","console","warn","backgroundColor","flex","justifyContent","height","length","padding","elevation","color","marginHorizontal","marginTop","data","i","id","borderColor","icon","iconColor","undefined","actionsheetInstance","_root","showActionSheet","propTypes","style","object","StyledActionSheetContainer"],"mappings":"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","file":"Actionsheet.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types'; // ES6\r\nimport {\r\n  View,\r\n  Modal,\r\n  Platform,\r\n  ActionSheetIOS,\r\n  TouchableOpacity,\r\n  ViewPropTypes\r\n} from \"react-native\";\r\nimport { connectStyle } from \"native-base-shoutem-theme\";\r\nimport { Text } from \"./Text\";\r\nimport { Button } from \"./Button\";\r\nimport { ViewNB } from \"./View\";\r\nimport { Icon } from \"./Icon\";\r\nimport { Left } from \"./Left\";\r\nimport { Right } from \"./Right\";\r\nimport { Body } from \"./Body\";\r\nimport { List } from \"./List\";\r\nimport { ListItem } from \"./ListItem\";\r\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\r\n\r\nclass ActionSheetContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n      items: []\r\n    };\r\n  }\r\n  static actionsheetInstance;\r\n  static show(config, callback) {\r\n    this.actionsheetInstance._root.showActionSheet(config, callback);\r\n  }\r\n  showActionSheet(config, callback) {\r\n    if (Platform.OS === \"ios\") {\r\n      if (typeof config.options[0] == \"object\") {\r\n        let options = config.options;\r\n        let filtered = options.map(item => {\r\n          return item.text;\r\n        });\r\n        config.options = filtered;\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      } else {\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      }\r\n    } else {\r\n      this.setState({\r\n        items: config.options,\r\n        title: config.title,\r\n        message: config.message,\r\n        destructiveButtonIndex: config.destructiveButtonIndex,\r\n        cancelButtonIndex: config.cancelButtonIndex,\r\n        modalVisible: true,\r\n        callback: callback\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.props.autoHide && this.props.duration) {\r\n      console.warn(`It's not recommended to set autoHide false with duration`);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Modal\r\n        animationType={\"fade\"}\r\n        transparent={true}\r\n        visible={this.state.modalVisible}\r\n        onRequestClose={() => this.setState({ modalVisible: false })}\r\n      >\r\n        <TouchableOpacity\r\n          activeOpacity={1}\r\n          onPress={() => this.setState({ modalVisible: false })}\r\n          style={{\r\n            backgroundColor: \"rgba(0,0,0,0.4)\",\r\n            flex: 1,\r\n            justifyContent: \"flex-end\"\r\n          }}\r\n        >\r\n          <TouchableOpacity\r\n            activeOpacity={1}\r\n            style={{\r\n              backgroundColor: \"#fff\",\r\n              height: this.state.length * 80,\r\n              padding: 15,\r\n              elevation: 4\r\n            }}\r\n          >\r\n            <Text style={{ color: \"#757575\" }}>\r\n              {this.state.title}\r\n            </Text>\r\n            <List\r\n              style={{ marginHorizontal: -15, marginTop: 15 }}\r\n              dataArray={this.state.items}\r\n              renderRow={(data, i, id) => {\r\n                return typeof this.state.items[0] === \"string\"\r\n                  ? <ListItem\r\n                      onPress={() => {\r\n                        this.state.callback(id);\r\n                        this.setState({ modalVisible: false });\r\n                      }}\r\n                      style={{ borderColor: \"transparent\" }}\r\n                    >\r\n                      <Text>\r\n                        {data}\r\n                      </Text>\r\n                    </ListItem>\r\n                  : <ListItem\r\n                      onPress={() => {\r\n                        this.state.callback(id);\r\n                        this.setState({ modalVisible: false });\r\n                      }}\r\n                      style={{ borderColor: \"transparent\" }}\r\n                      icon\r\n                    >\r\n                      <Left>\r\n                        <Icon\r\n                          name={data.icon}\r\n                          style={{\r\n                            color: data.iconColor ? data.iconColor : undefined\r\n                          }}\r\n                        />\r\n                      </Left>\r\n                      <Body style={{ borderColor: \"transparent\" }}>\r\n                        <Text>\r\n                          {data.text}\r\n                        </Text>\r\n                      </Body>\r\n                      <Right />\r\n                    </ListItem>;\r\n              }}\r\n            />\r\n          </TouchableOpacity>\r\n        </TouchableOpacity>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nActionSheetContainer.propTypes = {\r\n  ...ViewPropTypes,\r\n  style: PropTypes.object\r\n};\r\n\r\nconst StyledActionSheetContainer = connectStyle(\r\n  \"NativeBase.ActionSheetContainer\",\r\n  {},\r\n  mapPropsToStyleNames\r\n)(ActionSheetContainer);\r\n\r\nexport { StyledActionSheetContainer as ActionSheetContainer };\r\n"]}